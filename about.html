<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About - Rivian Spotter</title>
    <meta name="description" content="Learn about Rivian Spotter - the community-driven platform for finding Rivian Spaces and Service Centers.">

    <!-- Font Optimization -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="preload" href="https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHAPUlGe_ThNYzL-qWIW8DFQIAgicVw.woff2" as="font" type="font/woff2" crossorigin>
    
    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- Header and footer will be injected by components.js -->
        
        <div class="page-content">
            <h1 class="page-title">About Rivian Spotter</h1>

            <div class="page-section">
                <h2>Our Mission</h2>
                <p>
                    Rivian Spotter is a community-driven platform designed to help Rivian enthusiasts, owners, and
                    prospective buyers easily find and explore Rivian locations across North America.
                </p>
                <p>
                    Whether you're looking to test drive a vehicle, get your R1T or R1S serviced, or find an
                    adventure outpost, our interactive map makes it simple to discover what's available near you.
                </p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalLocations">120+</div>
                    <div class="stat-label">Total Locations</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalStates">35+</div>
                    <div class="stat-label">States & Provinces</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalSpaces">25+</div>
                    <div class="stat-label">Rivian Spaces</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalServiceCenters">30+</div>
                    <div class="stat-label">Service Centers</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalOutposts">10+</div>
                    <div class="stat-label">Outposts</div>
                </div>
            </div>

            <div class="page-section">
                <h2>What We Track</h2>
                <p><strong>Rivian Spaces:</strong> Retail showrooms where you can explore vehicles, schedule test drives,
                shop for merchandise, and connect with Rivian specialists. Found in shopping centers and high-traffic retail areas.</p>

                <p><strong>Demo Centers:</strong> Dedicated facilities for test drives and vehicle deliveries. Many also
                offer service capabilities and parts.</p>

                <p><strong>Service Centers:</strong> Locations focused on vehicle maintenance, repairs, and parts.
                Staffed by certified Rivian technicians.</p>

                <p><strong>Outposts:</strong> Adventure partner locations offering unique experiences, charging access,
                and Rivian community gathering spots in outdoor destinations.</p>
            </div>

            <div class="page-section">
                <h2>Features</h2>
                <ul style="color: var(--text-light); line-height: 1.8; margin-left: 1.5rem;">
                    <li>Interactive map with clustered markers for 120+ locations</li>
                    <li>Search by city, state, or location name</li>
                    <li>Filter by location type (Spaces, Demo Centers, Service Centers, Outposts)</li>
                    <li>Advanced filters: state, services offered, opening date, distance</li>
                    <li>Open Now / Coming Soon quick filters</li>
                    <li>Save favorite locations (stored locally)</li>
                    <li>Direct links to official Rivian.com pages</li>
                    <li>Export locations to CSV or JSON</li>
                    <li>Dark mode (follows system preference)</li>
                    <li>PWA support - install as an app on your device</li>
                    <li>Mobile-responsive design</li>
                </ul>
            </div>

            <div class="page-section">
                <h2>Changelog</h2>

                <h3 style="color: var(--text-dark); margin-top: 1.5rem; margin-bottom: 0.5rem;">December 2025</h3>
                <ul style="color: var(--text-light); line-height: 1.8; margin-left: 1.5rem;">
                    <li>Added 34 Service Center locations from official Rivian data</li>
                    <li>Added direct links to Rivian.com for all locations</li>
                    <li>Implemented automatic dark/light mode based on system preference</li>
                    <li>Fixed mobile PWA layout and safe area spacing</li>
                    <li>Updated location hours from Rivian.com</li>
                    <li>Added La Jolla Space and San Jose Service Center</li>
                </ul>

                <h3 style="color: var(--text-dark); margin-top: 1.5rem; margin-bottom: 0.5rem;">November 2025</h3>
                <ul style="color: var(--text-light); line-height: 1.8; margin-left: 1.5rem;">
                    <li>Migrated from PHP backend to static GitHub Pages</li>
                    <li>Admin panel now uses GitHub API for data management</li>
                    <li>Added PWA support with offline caching</li>
                    <li>Added favorites and recent locations features</li>
                    <li>Added export to CSV/JSON functionality</li>
                    <li>Added share location feature</li>
                </ul>

                <h3 style="color: var(--text-dark); margin-top: 1.5rem; margin-bottom: 0.5rem;">October 2025</h3>
                <ul style="color: var(--text-light); line-height: 1.8; margin-left: 1.5rem;">
                    <li>Added advanced filters (state, services, date range, distance)</li>
                    <li>Added Open Now / Coming Soon quick filters</li>
                    <li>Added collapsible sections in sidebar</li>
                    <li>Improved mobile navigation and touch interactions</li>
                    <li>Added Statistics page</li>
                </ul>

                <h3 style="color: var(--text-dark); margin-top: 1.5rem; margin-bottom: 0.5rem;">Earlier Updates</h3>
                <ul style="color: var(--text-light); line-height: 1.8; margin-left: 1.5rem;">
                    <li>Initial launch with Spaces and Demo Centers</li>
                    <li>Added Outpost locations</li>
                    <li>Added opening dates for locations</li>
                    <li>Added marker clustering for better map performance</li>
                    <li>Added accessibility features (ARIA labels, keyboard navigation)</li>
                </ul>
            </div>

            <div class="page-section">
                <h2>Disclaimer</h2>
                <p style="font-size: 0.9rem; font-style: italic; color: var(--text-light);">
                    Rivian Spotter is an independent, community-driven project and is not affiliated with, endorsed by,
                    or sponsored by Rivian Automotive, Inc. All trademarks, service marks, and company names are the
                    property of their respective owners. Location information is gathered from public sources and may
                    not always be current. Please verify hours and availability directly with Rivian before visiting.
                </p>
            </div>
        </div>
    </div>
    
    <!-- Load Components -->
    <script src="js/components.js"></script>
    
    <!-- Load location data for stats -->
    <script src="js/locations.js"></script>
    <script>
        // Wait for DOM and components to load
        window.addEventListener('load', function() {
            // Update stats with real data
            if (typeof rivianLocations !== 'undefined') {
                document.getElementById('totalLocations').textContent = rivianLocations.length;
                document.getElementById('totalStates').textContent = [...new Set(rivianLocations.map(l => l.state))].length;
                document.getElementById('totalSpaces').textContent = rivianLocations.filter(l => l.type === 'Space').length;
                document.getElementById('totalServiceCenters').textContent = rivianLocations.filter(l => l.type === 'Service Center').length;
                document.getElementById('totalOutposts').textContent = rivianLocations.filter(l => l.type === 'Outpost').length;
            }
        });
    </script>

    <!-- Service Worker Registration -->
    <script>
        // Register Service Worker for offline support
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registered successfully:', registration.scope);

                        // Check for updates
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // New service worker available
                                    console.log('New service worker available - refresh to update');

                                    // Optionally show a notification to the user
                                    if (confirm('A new version of Rivian Spotter is available. Reload to update?')) {
                                        newWorker.postMessage({ type: 'SKIP_WAITING' });
                                        window.location.reload();
                                    }
                                }
                            });
                        });
                    })
                    .catch(error => {
                        console.error('Service Worker registration failed:', error);
                    });

                // Listen for service worker messages
                navigator.serviceWorker.addEventListener('message', (event) => {
                    if (event.data.type === 'SYNC_COMPLETE') {
                        console.log('Background sync complete:', event.data.syncedCount, 'changes synced');
                    }
                });

                // Handle controller change (new service worker activated)
                navigator.serviceWorker.addEventListener('controllerchange', () => {
                    console.log('Service Worker controller changed - reloading page');
                    window.location.reload();
                });
            });
        }
    </script>
</body>
</html>