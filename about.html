<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About - Rivian Spotter</title>
    <meta name="description" content="Learn about Rivian Spotter - the community-driven platform for finding Rivian Spaces and Service Centers.">

    <!-- Font Optimization -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="preload" href="https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHAPUlGe_ThNYzL-qWIW8DFQIAgicVw.woff2" as="font" type="font/woff2" crossorigin>
    
    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- Header and footer will be injected by components.js -->
        
        <div class="page-content">
            <h1 class="page-title">About Rivian Spotter</h1>
            
            <div class="page-section">
                <h2>Our Mission</h2>
                <p>
                    Rivian Spotter is a community-driven platform designed to help Rivian enthusiasts, owners, and 
                    prospective buyers easily find and explore Rivian Spaces and Demo Centers across the United States.
                </p>
                <p>
                    Whether you're looking to test drive a vehicle or simply explore the nearest 
                    Rivian location, our interactive map makes it simple to discover what's available near you.
                </p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalLocations">35+</div>
                    <div class="stat-label">Total Locations</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalStates">20+</div>
                    <div class="stat-label">States Covered</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalSpaces">25+</div>
                    <div class="stat-label">Rivian Spaces</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalOutposts">10+</div>
                    <div class="stat-label">Outposts</div>
                </div>
            </div>
            
            <div class="page-section">
                <h2>What We Track</h2>
                <p><strong>Rivian Spaces:</strong> Retail locations where you can explore vehicles, schedule test drives, 
                shop for merchandise, and connect with Rivian specialists. These are typically found in shopping centers 
                and high-traffic retail areas.</p>
                
                <p><strong>Demo Centers:</strong> Dedicated facilities where Rivian owners can test drive vehicles,
                schedule maintenance, repairs, and receive support from certified technicians. Some locations also 
                serve as delivery centers.</p>
                
            </div>
            
            <div class="page-section">
                <h2>Features</h2>
                <ul style="color: #666; line-height: 1.8; margin-left: 1.5rem;">
                    <li>Interactive map with all current Rivian locations</li>
                    <li>Search by city, state, or location name</li>
                    <li>Filter between Spaces and Demo Centers</li>
                    <li>Get directions to any location</li>
                    <li>View hours of operation and contact information</li>
                    <li>Mobile-responsive design for on-the-go access</li>
                </ul>
            </div>
            
            <div class="page-section">
                <h2>Coming Soon</h2>
                <p>We're constantly working to improve Rivian Spotter. Future features include:</p>
                <ul style="color: #666; line-height: 1.8; margin-left: 1.5rem;">
                    <li>Space/Demo Center Opening Dates</li>
                    <li>User photo submissions and reviews</li>
                    <li>Event listings for local Rivian meetups</li>
                    <li>Links to Rivian.com pages for Spaces/Demo Centers</li>
                    <li>iOS and Android mobile apps</li>
                    <li>Email notifications for new locations</li>
                    <li>Community forum for owners</li>
                </ul>
            </div>
            
            <div class="page-section">
                <h2>Disclaimer</h2>
                <p style="font-size: 0.9rem; font-style: italic;">
                    Rivian Spotter is an independent, community-driven project and is not affiliated with, endorsed by, 
                    or sponsored by Rivian Automotive, Inc. All trademarks, service marks, and company names are the 
                    property of their respective owners. Location information is gathered from public sources and may 
                    not always be current. Please verify hours and availability directly with Rivian locations before visiting.
                </p>
            </div>
        </div>
    </div>
    
    <!-- Load Components -->
    <script src="js/components.js"></script>
    
    <!-- Load location data for stats -->
    <script src="js/locations.js"></script>
    <script>
        // Wait for DOM and components to load
        window.addEventListener('load', function() {
            // Update stats with real data
            if (typeof rivianLocations !== 'undefined') {
                document.getElementById('totalLocations').textContent = rivianLocations.length;
                document.getElementById('totalStates').textContent = [...new Set(rivianLocations.map(l => l.state))].length;
                document.getElementById('totalSpaces').textContent = rivianLocations.filter(l => l.type === 'Space').length;
                document.getElementById('totalOutposts').textContent = rivianLocations.filter(l => l.type === 'Outpost').length;
            }
        });
    </script>

    <!-- Service Worker Registration -->
    <script>
        // Register Service Worker for offline support
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registered successfully:', registration.scope);

                        // Check for updates
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // New service worker available
                                    console.log('New service worker available - refresh to update');

                                    // Optionally show a notification to the user
                                    if (confirm('A new version of Rivian Spotter is available. Reload to update?')) {
                                        newWorker.postMessage({ type: 'SKIP_WAITING' });
                                        window.location.reload();
                                    }
                                }
                            });
                        });
                    })
                    .catch(error => {
                        console.error('Service Worker registration failed:', error);
                    });

                // Listen for service worker messages
                navigator.serviceWorker.addEventListener('message', (event) => {
                    if (event.data.type === 'SYNC_COMPLETE') {
                        console.log('Background sync complete:', event.data.syncedCount, 'changes synced');
                    }
                });

                // Handle controller change (new service worker activated)
                navigator.serviceWorker.addEventListener('controllerchange', () => {
                    console.log('Service Worker controller changed - reloading page');
                    window.location.reload();
                });
            });
        }
    </script>
</body>
</html>