{"version":3,"file":"data-loader.min.js","names":["DataLoader","constructor","this","cache","Map","loadedChunks","Set","config","window","RivianSpotterConfig","data","getCachedData","key","cached","get","now","Date","expirationTime","cacheExpirationMs","timestamp","delete","setCachedData","enableCaching","set","loadLocationData","cachedData","console","log","rivianLocations","Array","isArray","validatedData","validateLocationData","loadFromAPI","error","Error","locations","filter","location","id","name","lat","lng","forEach","field","sanitizeString","openingDate","test","warn","rivianUrl","URL","hostname","includes","e","services","service","map","index","str","replace","trim","response","fetch","method","headers","Accept","ok","status","json","loadLocationChunk","startIndex","endIndex","chunk","slice","chunkKey","add","preloadNearbyChunks","currentIndex","chunkSize","enableLazyLoading","startChunk","Math","max","endChunk","clearCache","clear","getCacheStats","cacheSize","size","cacheKeys","from","keys","dataLoader"],"sources":["0"],"mappings":"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","ignoreList":[]}